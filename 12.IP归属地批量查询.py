aW1wb3J0IHJlcXVlc3RzDQppbXBvcnQgcmUNCg0KDQojIHVybCA9ICdodHRwczovL3d3dy5pcHNodWRpLmNvbS8zNi42LjE0NC4xNTcuaHRtJw0KIyB1cmwgPSAnaHR0cHM6Ly9pcGNoYXh1bi5jb20vMzYuNi4xNDQuMTU3LycNCg0KaGVhZGVycyA9IHsNCiAgICAnQ29va2llJzogJ1BIUFNFU1NJRD10NGJ0b3ZzNmE3dWVydnNqamdiMjk3bjlzMDsgSG1fbHZ0XzA0NGEyNjMyN2NkNTIwYWYyZGMyZWQ2OTk2NWU3OWY4PTE3MjE1ODMxNDY7IEhNQUNDT1VOVD1BREE2MjZDMUIzRkU2N0VCOyBIbV90Zl9tdGpvc2RsZWxzZT0xNzIxNTgzMTQ2OyBIbV9sdnRfbXRqb3NkbGVsc2U9MTcyMTU4MzE0NjsgSG1fbHB2dF8wNDRhMjYzMjdjZDUyMGFmMmRjMmVkNjk5NjVlNzlmOD0xNzIxNjYwNDMzOyBIbV9scHZ0X210am9zZGxlbHNlPTE3MjE2NjA0MzMnLA0KICAgICdTZWMtQ2gtVWEnOiAnIkNocm9taXVtIjt2PSIxMjMiLCAiTm90OkEtQnJhbmQiO3Y9IjgiJywNCiAgICAnU2VjLUNoLVVhLU1vYmlsZSc6ICc/MCcsDQogICAgJ1NlYy1DaC1VYS1QbGF0Zm9ybSc6ICciV2luZG93cyInLA0KICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzJzogJzEnLA0KICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjMuMC42MzEyLjEyMiBTYWZhcmkvNTM3LjM2JywNCiAgICAnQWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuNycsDQogICAgJ1NlYy1GZXRjaC1TaXRlJzogJ3NhbWUtb3JpZ2luJywNCiAgICAnU2VjLUZldGNoLU1vZGUnOiAnbmF2aWdhdGUnLA0KICAgICdTZWMtRmV0Y2gtVXNlcic6ICc/MScsDQogICAgJ1NlYy1GZXRjaC1EZXN0JzogJ2RvY3VtZW50JywNCiAgICAnUmVmZXJlcic6ICdodHRwczovL3d3dy5pcHNodWRpLmNvbS8nLA0KICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLA0KICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnemgtQ04semg7cT0wLjknLA0KICAgICdQcmlvcml0eSc6ICd1PTAsIGknLA0KICAgICdDb25uZWN0aW9uJzogJ2Nsb3NlJw0KfQ0KIyDlrprkuYlJUOWcsOWdgOWIl+ihqA0KaXBfbGlzdCA9IFsnMzYuNi4xNDQuMTU3JywgJzQ1LjY3Ljg5LjEyJywgJzk4Ljc2LjU0LjMyJywnMjQwOTo4YTM0OjI0NDQ6MzA3MDo3NTI5OmRlNmY6ZjNlOToyOTNjJ10NCg0KZm9yIGlwIGluIGlwX2xpc3Q6DQogICAgdXJsID0gZidodHRwczovL2lwY2hheHVuLmNvbS97aXB9LycNCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmwsIGhlYWRlcnM9aGVhZGVycykNCiAgICByZXNwb25zZS5lbmNvZGluZyA9ICd1dGYtOCcNCiAgICAjIHByaW50KHJlc3BvbnNlLnRleHQpDQogICAgIyDku45yZXNwb25zZS50ZXh05Lit5o+Q5Y+W5omA6ZyA5L+h5oGvDQogICAgaXBfbWF0Y2ggPSByZS5zZWFyY2gocic8c3BhbiBjbGFzcz0ibmFtZSI+aVDlnLDlnYDvvJo8L3NwYW4+PHNwYW4gY2xhc3M9InZhbHVlIj4oXGQrXC5cZCtcLlxkK1wuXGQrKTwvc3Bhbj4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnRleHQpDQogICAgIyDliKTmlq3mmK/lkKbmiJDlip/ljLnphY3liLBJUOWcsOWdgA0KICAgIGlmIGlwX21hdGNoOg0KICAgICAgICBpcF9hZGRyZXNzID0gaXBfbWF0Y2guZ3JvdXAoMSkNCiAgICAgICAgcHJpbnQoZiJJUOWcsOWdgDoge2lwX2FkZHJlc3N9IikNCiAgICAgICAgbG9jYXRpb25fbWF0Y2ggPSByZS5zZWFyY2gocic8c3BhbiBjbGFzcz0ibmFtZSI+5b2S5bGe5Zyw77yaPC9zcGFuPjxzcGFuIGNsYXNzPSJ2YWx1ZSI+KC4qPyk8L3NwYW4+JywgcmVzcG9uc2UudGV4dCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmUuUykNCiAgICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbl9tYXRjaC5ncm91cCgxKS5zdHJpcCgpDQogICAgICAgIGxvY2F0aW9uID0gcmUuc3ViKHInPC4qPz4nLCAnICcsIGxvY2F0aW9uKSAgIyDljrvpmaRIVE1M5qCH562+DQogICAgICAgIGxvY2F0aW9uID0gcmUuc3ViKHInXHMrJywgJyAnLCBsb2NhdGlvbikgICMg5Y676Zmk5aSa5L2Z56m65qC8DQogICAgICAgIHByaW50KGYi5b2S5bGe5ZywOiB7bG9jYXRpb259IikNCiAgICAgICAgb3BlcmF0b3IgPSByZS5zZWFyY2gocic8bGFiZWw+PHNwYW4gY2xhc3M9Im5hbWUiPui/kOiQpeWVhu+8mjwvc3Bhbj48c3BhbiBjbGFzcz0idmFsdWUiPiguKj8pPC9zcGFuPjwvbGFiZWw+JyxyZXNwb25zZS50ZXh0KQ0KICAgICAgICBpZiBvcGVyYXRvcjoNCiAgICAgICAgICAgIG9wZXJhdG9yID0gb3BlcmF0b3IuZ3JvdXAoMSkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIG9wZXJhdG9yID0gJ+acquaJvuWIsOi/kOiQpeWVhuS/oeaBrycNCiAgICAgICAgcHJpbnQoZiLov5DokKXllYY6IHtvcGVyYXRvcn0iKQ0KICAgICAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KGYn5pyq5om+5p+l6K+i5Yiwe2lwfeWcsOWdgOS/oeaBrycpDQogICAgICAgIHByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLScpDQoNCiMg5LuOcmVzcG9uc2UudGV4dOS4reaPkOWPluaJgOmcgOS/oeaBrw0KIyBpcF9hZGRyZXNzID0gcmUuc2VhcmNoKHInPHNwYW4+KFxkK1wuXGQrXC5cZCtcLlxkKyk8L3NwYW4+JywgcmVzcG9uc2UudGV4dCkuZ3JvdXAoMSkNCiMgbG9jYXRpb24gPSByZS5zZWFyY2gocic8c3Bhbj4oLio/KTxhJywgcmVzcG9uc2UudGV4dCwgcmUuUykuZ3JvdXAoMSkuc3RyaXAoKQ0KIyBvcGVyYXRvciA9IHJlLnNlYXJjaChyJzx0ZCBjbGFzcz0idGgiPui/kOiQpeWVhjwvdGQ+PHRkPjxzcGFuPiguKj8pPC9zcGFuPicsIHJlc3BvbnNlLnRleHQpLmdyb3VwKDEpDQoNCiMg5LuOcmVzcG9uc2UudGV4dOS4reaPkOWPluaJgOmcgOS/oeaBrw0KIyBpcF9hZGRyZXNzID0gcmUuc2VhcmNoKHInPHNwYW4+KFxkK1wuXGQrXC5cZCtcLlxkKyk8L3NwYW4+JywgcmVzcG9uc2UudGV4dCkuZ3JvdXAoMSkNCiMgbG9jYXRpb24gPSByZS5zZWFyY2gocic8dGQgY2xhc3M9InRoIj7lvZLlsZ7lnLA8L3RkPlxzKjx0ZD5ccyo8c3Bhbj4oLio/KTwvc3Bhbj4nLCByZXNwb25zZS50ZXh0LCByZS5TKS5ncm91cCgxKS5zdHJpcCgpDQojIG9wZXJhdG9yID0gcmUuc2VhcmNoKHInPHRkIGNsYXNzPSJ0aCI+6L+Q6JCl5ZWGPC90ZD48dGQ+PHNwYW4+KC4qPyk8L3NwYW4+JywgcmVzcG9uc2UudGV4dCkuZ3JvdXAoMSkNCg0KIyDku45yZXNwb25zZS50ZXh05Lit5o+Q5Y+W5omA6ZyA5L+h5oGvDQojIGlwX2FkZHJlc3MgPSByZS5zZWFyY2gocic8c3Bhbj4oXGQrXC5cZCtcLlxkK1wuXGQrKTwvc3Bhbj4nLCByZXNwb25zZS50ZXh0KS5ncm91cCgxKQ0KIyBwcmludChpcF9hZGRyZXNzKQ0KIyBsb2NhdGlvbl9tYXRjaCA9IHJlLnNlYXJjaChyJzx0ZCBjbGFzcz0idGgiPuW9kuWxnuWcsDwvdGQ+XHMqPHRkPlxzKjxzcGFuPiguKj8pPC9zcGFuPicsIHJlc3BvbnNlLnRleHQsIHJlLlMpDQojIGxvY2F0aW9uID0gbG9jYXRpb25fbWF0Y2guZ3JvdXAoMSkuc3RyaXAoKQ0KIyBsb2NhdGlvbiA9IHJlLnN1YihyJzwuKj8+JywgJycsIGxvY2F0aW9uKSAgIyDljrvpmaRIVE1M5qCH562+DQojIGxvY2F0aW9uID0gcmUuc3ViKHInXHMrJywgJyAnLCBsb2NhdGlvbikgICMg5Y676Zmk5aSa5L2Z56m65qC8DQojIG9wZXJhdG9yID0gcmUuc2VhcmNoKHInPHRkIGNsYXNzPSJ0aCI+6L+Q6JCl5ZWGPC90ZD48dGQ+PHNwYW4+KC4qPyk8L3NwYW4+JywgcmVzcG9uc2UudGV4dCkuZ3JvdXAoMSkNCiMgb3BlcmF0b3IyID0gcmUuc2VhcmNoKHInPHRkIGNsYXNzPSJ0aCI+aVDnsbvlnos8L3RkPjx0ZD48c3Bhbj4oLio/KTwvc3Bhbj4nLCByZXNwb25zZS50ZXh0KS5ncm91cCgxKQ0KDQoNCiMg5omT5Y2w5o+Q5Y+W55qE5L+h5oGvDQojIHByaW50KGYiSVDlnLDlnYA6IHtpcF9hZGRyZXNzfSIpDQojIHByaW50KGYi5b2S5bGe5ZywOiB7bG9jYXRpb259IikNCiMgcHJpbnQoZiLov5DokKXllYY6IHtvcGVyYXRvcn0iKQ0KIyBwcmludChmIklQ57G75Z6LOiB7b3BlcmF0b3IyfSIpDQojIOajgOafpeaYr+WQpuWtmOWcqElQ57G75Z6L5L+h5oGvDQojIG9wZXJhdG9yMl9tYXRjaCA9IHJlLnNlYXJjaChyJzx0ZCBjbGFzcz0idGgiPmlQ57G75Z6LPC90ZD48dGQ+PHNwYW4+KC4qPyk8L3NwYW4+JywgcmVzcG9uc2UudGV4dCkNCiMgaWYgb3BlcmF0b3IyX21hdGNoOg0KIyAgICAgb3BlcmF0b3IyID0gb3BlcmF0b3IyX21hdGNoLmdyb3VwKDEpDQojICAgICBwcmludChmIklQ57G75Z6LOiB7b3BlcmF0b3IyfSIpDQoNCg0KDQojIOS7jnJlc3BvbnNlLnRleHTkuK3mj5Dlj5bmiYDpnIDkv6Hmga8NCiMgaXBfYWRkcmVzcyA9IHJlLnNlYXJjaChyJzxzcGFuIGNsYXNzPSJuYW1lIj5pUOWcsOWdgO+8mjwvc3Bhbj48c3BhbiBjbGFzcz0idmFsdWUiPihcZCtcLlxkK1wuXGQrXC5cZCspPC9zcGFuPicsIHJlc3BvbnNlLnRleHQpLmdyb3VwKDEpDQojICMg5omT5Y2w5o+Q5Y+W55qE5L+h5oGvDQojIHByaW50KGYiSVDlnLDlnYA6IHtpcF9hZGRyZXNzfSIpDQoNCg0KDQoNCg0KDQojIGxvY2F0aW9uX21hdGNoID0gcmUuc2VhcmNoKHInPHNwYW4gY2xhc3M9Im5hbWUiPuW9kuWxnuWcsO+8mjwvc3Bhbj48c3BhbiBjbGFzcz0idmFsdWUiPiguKj8pPC9zcGFuPicsIHJlc3BvbnNlLnRleHQsIHJlLlMpDQojIGxvY2F0aW9uID0gbG9jYXRpb25fbWF0Y2guZ3JvdXAoMSkuc3RyaXAoKQ0KIyBsb2NhdGlvbiA9IHJlLnN1YihyJzwuKj8+JywgJyAnLCBsb2NhdGlvbikgICMg5Y676ZmkSFRNTOagh+etvg0KIyBsb2NhdGlvbiA9IHJlLnN1YihyJ1xzKycsICcgJywgbG9jYXRpb24pICAjIOWOu+mZpOWkmuS9meepuuagvA0KIyBwcmludChmIuW9kuWxnuWcsDoge2xvY2F0aW9ufSIpDQojDQojDQojIG9wZXJhdG9yID0gcmUuc2VhcmNoKHInPGxhYmVsPjxzcGFuIGNsYXNzPSJuYW1lIj7ov5DokKXllYbvvJo8L3NwYW4+PHNwYW4gY2xhc3M9InZhbHVlIj4oLio/KTwvc3Bhbj48L2xhYmVsPicsIHJlc3BvbnNlLnRleHQpLmdyb3VwKDEpDQojIHByaW50KGYi6L+Q6JCl5ZWGOiB7b3BlcmF0b3J9Iik